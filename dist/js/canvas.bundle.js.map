{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/canvas.js","webpack:///./src/star.js","webpack:///./src/stardrawer.js","webpack:///./src/starhandler.js","webpack:///./src/utils.js","webpack:///./src/vec3.js"],"names":["StarDrawer","require","StarHandler","canvas","document","querySelector","SCREEN_ROT_DIV","width","innerWidth","height","innerHeight","mouse","x","y","nbStars","starsHandler","starDrawer","addEventListener","event","clientX","clientY","animate","requestAnimationFrame","clear","updateAll","drawAllStars","stars","updateAllPreviousPos","Vec3","Vec2","Utils","Star","init","_velocity","fRand","_position","_prevPosition","_prevRadius","_radius","speed","multiplier","z","screenRot","reset","move","value","module","exports","_canvas","_ctx","getContext","_width","_height","_clearColor","i","length","drawStar","star","position","percent","radius","beginPath","arc","Math","PI","fillStyle","fill","rect","_speedVector","_nbStars","_stars","initAll","update","updatePreviousPos","min","max","random"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","const StarDrawer = require('./stardrawer.js');\nconst StarHandler = require('./starhandler.js');\n\nconst canvas = document.querySelector('canvas');\nconst SCREEN_ROT_DIV = 0.5;\n\ncanvas.width = innerWidth;\ncanvas.height = innerHeight;\n\nconst mouse = {\n    x: innerWidth / 2.0,\n    y: innerHeight / 2.0\n};\n\nconst nbStars = 100;\nconst starsHandler = new StarHandler(canvas.width, canvas.height, nbStars);\nconst starDrawer = new StarDrawer(canvas);\n\n// Event Listeners\naddEventListener('mousemove', event => {\n    mouse.x = event.clientX - canvas.width / 2.0;\n    mouse.y = event.clientY - canvas.height / 2.0;\n});\n\naddEventListener('resize', () => {\n    canvas.width = innerWidth;\n    canvas.height = innerHeight;\n});\n\nfunction animate() {\n    requestAnimationFrame(animate);\n    starDrawer.clear();\n    starsHandler.updateAll(SCREEN_ROT_DIV);\n    starDrawer.drawAllStars(starsHandler.stars, mouse);\n    starsHandler.updateAllPreviousPos();\n}\n\nanimate();\n","const Vec3 = require('./vec3.js');\r\nconst Vec2 = require('./vec3.js');\r\nconst Utils = require('./utils.js');\r\n\r\nclass Star {\r\n  constructor(width, height) {\r\n    this.init(width, height);\r\n  }\r\n\r\n  init(width, height) {\r\n    this._velocity = new Vec3(\r\n      Utils.fRand(-5.0, 5.0),\r\n      Utils.fRand(-5.0, 5.0),\r\n      Utils.fRand(1.0, 5.0)\r\n    );\r\n    this._position = new Vec3(\r\n      width / 2.0,\r\n      height / 2.0,\r\n      Utils.fRand(0.0, Utils.fRand(0.0, width))\r\n    );\r\n    this._prevPosition = new Vec2(\r\n      this._position.x,\r\n      this._position.y\r\n    );\r\n    this._prevRadius = 0.0;\r\n    this._radius = Utils.fRand(1.0, 4.0);\r\n  }\r\n\r\n  move(width, height, speed) {\r\n    let multiplier = 1.0 - (width / this._position.z);\r\n    this._position.x += this._velocity.x * speed.x * multiplier;\r\n    this._position.y += this._velocity.y * speed.y * multiplier;\r\n    if ((this._position.z - this._velocity.z * speed.z) > 0.0) {\r\n      this._position.z -= this._velocity.z * speed.z;\r\n    }\r\n  }\r\n\r\n  update(width, height, screenRot, speed) {\r\n    if ((this._position.x + width / screenRot) < 0.0 || (this._position.x - width / screenRot) >= width) {\r\n      this.reset(width, height);\r\n    } else if ((this._position.y + height / screenRot) < 0.0 || (this._position.y - height / screenRot) >= screenRot) {\r\n      this.reset(width, height);\r\n    } else if (this._position.z <= 0.0) {\r\n      this.reset(width, height);\r\n    }\r\n    this.move(width, height, speed);\r\n  }\r\n\r\n  reset(width, height) {\r\n    this.init(width, height);\r\n    this._position.z = width;\r\n  }\r\n\r\n  updatePreviousPos() {\r\n    this._prevPosition = new Vec2(this._position.x, this._position.y);\r\n    this._prevRadius = this._radius;\r\n  }\r\n\r\n  get velocity() {\r\n    return this._velocity;\r\n  }\r\n\r\n  set velocity(value) {\r\n    this._velocity = value;\r\n  }\r\n\r\n  get position() {\r\n    return this._position;\r\n  }\r\n\r\n  set position(value) {\r\n    this._position = value;\r\n  }\r\n\r\n  get prevPosition() {\r\n    return this._prevPosition;\r\n  }\r\n\r\n  set prevPosition(value) {\r\n    this._prevPosition = value;\r\n  }\r\n\r\n  get prevRadius() {\r\n    return this._prevRadius;\r\n  }\r\n\r\n  set prevRadius(value) {\r\n    this._prevRadius = value;\r\n  }\r\n\r\n  get radius() {\r\n    return this._radius;\r\n  }\r\n\r\n  set radius(value) {\r\n    this._radius = value;\r\n  }\r\n}\r\n\r\nmodule.exports = Star;\r\n","class StarDrawer {\r\n  constructor(canvas) {\r\n    this._canvas = canvas;\r\n    this._ctx = canvas.getContext(\"2d\");\r\n    this._width = canvas.width;\r\n    this._height = canvas.height;\r\n    this._clearColor = \"rgba(0,0,0,0.39)\";\r\n  }\r\n\r\n  drawAllStars(stars, mouse) {\r\n    for (let i = 0; i < stars.length; i++) {\r\n      this.drawStar(stars[i], mouse);\r\n    }\r\n  }\r\n\r\n  drawStar(star, mouse) {\r\n    let position = star.position;\r\n    let percent = 1.0 - star.position.z / this._width;\r\n    let radius = (star.radius * percent);\r\n\r\n    if (star.position.z > 0) {\r\n      this._ctx.beginPath();\r\n      this._ctx.arc(position.x + mouse.x, position.y + mouse.y, radius, 0, 2 * Math.PI);\r\n      this._ctx.fillStyle = 'rgba(200, 200, 255,' + percent * 255.0 + ')';\r\n      this._ctx.fill();\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this._ctx.rect(0, 0, this._width, this._height);\r\n    this._ctx.fillStyle = this._clearColor;\r\n    this._ctx.fill();\r\n  }\r\n}\r\n\r\nmodule.exports = StarDrawer;\r\n","const Vec3 = require('./vec3.js');\r\nconst Star = require('./star.js');\r\n\r\nclass StarHandler {\r\n  constructor(width, height, nbStars) {\r\n    this._speedVector = new Vec3(1.0, 1.0, 1.0);\r\n    this._width = width;\r\n    this._height = height;\r\n    this._nbStars = nbStars;\r\n    this._stars = [];\r\n    this.initAll();\r\n  }\r\n\r\n  initAll() {\r\n    for (let i = 0; i < this._nbStars; ++i) {\r\n      this._stars[i] = new Star(this._width, this._height);\r\n    }\r\n  }\r\n\r\n  updateAll(screenRot) {\r\n    for (let i = 0; i < this._nbStars; ++i) {\r\n      this._stars[i].update(this._width, this._height, screenRot, this._speedVector);\r\n    }\r\n  }\r\n\r\n  updateAllPreviousPos() {\r\n    for (let i = 0; i < this._nbStars; ++i) {\r\n      this._stars[i].updatePreviousPos();\r\n    }\r\n  }\r\n\r\n  incrementSpeedVector(speed) {\r\n    this._speedVector.x += speed.x;\r\n    this._speedVector.y += speed.y;\r\n    this._speedVector.z += speed.z;\r\n  }\r\n\r\n\r\n  get speedVector() {\r\n    return this._speedVector;\r\n  }\r\n\r\n  set speedVector(value) {\r\n    this._speedVector = value;\r\n  }\r\n\r\n  get stars() {\r\n    return this._stars;\r\n  }\r\n}\r\n\r\nmodule.exports = StarHandler;\r\n","class Utils {\r\n\r\n  static fRand(min, max) {\r\n    return (min + Math.random() * (max - min));\r\n  }\r\n}\r\n\r\nmodule.exports = Utils;\r\n","class Vec3 {\r\n  constructor(x, y, z) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n  }\r\n}\r\n\r\nmodule.exports = Vec3;\r\n"],"sourceRoot":""}